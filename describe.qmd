# Descriptive statistics

```{r}
pacman::p_load(conflicted,tidyverse,wrappedtools)
#dir("Data/")
load("data/bookdata1.RData")

ggplot(rawdata,aes(`sysBP V0`, `diaBP V0`))+
  geom_point()+
  geom_smooth(se=F)+
  geom_smooth(method="lm",color="red", 
              fill="gold", alpha=.15) 

# descriptives ####
mean_size <- mean(rawdata$`Size (cm)`)
sd_size <- sd(rawdata$`Size (cm)`)
min(rawdata$`Size (cm)`)
round(mean_size,digits = 2)
roundR(mean_size,level = 2)
meansd(rawdata$`Size (cm)`, roundDig = 4,range = T,add_n = T)
meansd(rawdata$`sysBP V0`, roundDig = 4,range = T,
       add_n = T,.german = T)

median(rawdata$`Size (cm)`)
quantile(rawdata$`Size (cm)`,probs = c(.25,.75))
median_quart(rawdata$`Size (cm)`)

table(rawdata$Sex, useNA = "a")
sex_count <- table(rawdata$Sex, useNA = "ifany")
table(rawdata$`NYHA V2`,useNA = "always")
table(rawdata$`NYHA V2`,useNA = "i")
randomize <- table(rawdata$Sex, rawdata$Testmedication)
prop.table(sex_count)
prop.table(randomize,margin = 2)*100
cat_desc_stats(rawdata$`NYHA V2`)
cat_desc_stats(rawdata$Sex, singleline = T)

rawdata |> 
  group_by(Sex,Testmedication) |> 
  summarise(WeightSummary=meansd(`Weight (kg)`))



compare2numvars(rawdata,
                dep_vars = c( "Size (cm)","Weight (kg)",
                              "sysBP V0","diaBP V0"),
                indep_var = "Sex",
                gaussian = F)
```
